
# UIComponentãƒ©ã‚¤ãƒ–ãƒ©ãƒªåŒ– â€” ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ãƒ©ã‚¤ãƒ–ãƒ©ãƒªæ§‹æˆã®å®Ÿå‹™èª¿æŸ»

æ—¥æ™‚: 2025å¹´12æœˆ26æ—¥

---

## è³ªå•å†…å®¹

ã€ŒUICOmponentã® Base ãƒ•ã‚©ãƒ«ãƒ€ã‚’ãƒ©ã‚¤ãƒ–ãƒ©ãƒªåŒ–ã—ãŸã„ã€‚app-tså†…ã§ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç’°å¢ƒã‚’æ§‹ç¯‰ã—ã€å¤–éƒ¨ä¾å­˜ã‚’æœ€å°é™ã«ã—ãŸã„ã€‚ã€

**èƒŒæ™¯**
- ç¾åœ¨ï¼šElectron ã‚¢ãƒ—ãƒªï¼ˆ`app-ts/`ï¼‰å†…ã« UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒçµ„ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹
- ç›®æ¨™ï¼šBase ãƒ•ã‚©ãƒ«ãƒ€ï¼ˆâ†’ SengenUI ã«åå‰å¤‰æ›´ï¼‰ã‚’ç‹¬ç«‹ã—ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã—ã¦ npm ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–ã—ãŸã„
- åˆ¶ç´„ï¼š
  - ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨ä¸€ç·’ã«ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’é€²åŒ–ã•ã›ãŸã„ï¼ˆåˆ†é›¢ã§ã¯ãªãï¼‰
  - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒˆãƒƒãƒ—ã«ã¯ Python ãƒ•ã‚©ãƒ«ãƒ€ãªã©ãŒã‚ã‚‹ãŸã‚ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªæ§‹é€ ã¯ `app-ts/` å†…ã«å®Œçµã•ã›ãŸã„
  - `cssé•·ã•å˜ä½` ã¯æ—¢ã« Base å†…ã«ç§»å‹•æ¸ˆã¿
  - MouseAbstraction ã¯ `MouseWife.ts` ã®ã¿ãŒä¾å­˜ã—ã¦ã„ã‚‹

**å®Ÿè£…çŠ¶æ³ï¼ˆ2025å¹´12æœˆ27æ—¥ï¼‰**
- âœ… ãƒ•ã‚©ãƒ«ãƒ€ç§»å‹•å®Œäº†ï¼š`UiComponent/Base/` â†’ `Packages/SengenUI/`
- âœ… å…¨TS ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹å‚ç…§ã‚’è‡ªå‹•ç½®æ›ï¼ˆ280ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
- ğŸ”„ workspace æ§‹é€ ã®å®Ÿè£…ã¯ä»Šå¾Œ

---

## èª¿æŸ»çµæœ

### 1. ç¾åœ¨ã®æ§‹é€ åˆ†æ

**app-ts ã®æ§‹æˆ**
```
app-ts/
  package.json          â† Electron ã‚¢ãƒ—ãƒªå‘ã‘
  vite.config.ts        â† Electron ãƒ¡ã‚¤ãƒ³/ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰
  src/
    Packages/
      SengenUI/         â† ãƒ©ã‚¤ãƒ–ãƒ©ãƒªæœ¬ä½“ï¼ˆãƒ•ã‚©ãƒ«ãƒ€ç§»å‹•å®Œäº†ï¼‰
        SengenBase/
        Behaviors/
        LV1UIComponents/
        MathMLComponents/
        MouseAbstraction/
        SvgUIComponents/
        _æ–‡æ›¸/
    Components/
    Pages/
    (ãã®ä»–)
```

**SengenUI ã®å¤–éƒ¨ä¾å­˜ï¼ˆå®Ÿè£…å¾Œï¼‰**
- âœ… `SengenBase` â€” ã‚³ã‚¢ä¾å­˜ã‚’å†…éƒ¨åŒ–å®Œäº†
- âœ… `Behaviors/` â€” æ©Ÿèƒ½æ‹¡å¼µã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- âœ… `LV1UIComponents/`, `MathMLComponents/`, `SvgUIComponents/` â€” å…·ä½“çš„UIå®Ÿè£…
- âš ï¸ `MouseAbstraction` â€” `MouseWife.ts` ã®ã¿ãŒä¾å­˜
  - ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–æ™‚ã«ã¯å¤–éƒ¨ä¾å­˜ã¨ã—ã¦æ‰±ã†ã‹æ¤œè¨ãŒå¿…è¦
- âŒ `Extend/` â€” ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ä¾å­˜ï¼ˆãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–æ™‚ã¯é™¤å¤–ï¼‰
- âŒ `Math/GrapgTheory` â€” ã‚°ãƒ©ãƒ•ãƒ‡ãƒ¼ã‚¿æ§‹é€ ï¼ˆãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–æ™‚ã¯é™¤å¤–ï¼‰

â†’ **ãƒ•ã‚©ãƒ«ãƒ€ç§»å‹•å®Œäº†ã€‚æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã¯ workspace æ§‹é€ å®Ÿè£…ã¨ä¾å­˜ã®æ˜ç¢ºåŒ–**

---

### 2. å®Ÿå‹™çš„ãªãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆapp-tså†…å®Œçµå‹ï¼‰

#### ãƒ‘ã‚¿ãƒ¼ãƒ³ A+ï¼‰app-ts å†…ãƒ¢ãƒãƒ¬ãƒæ§‹æˆï¼ˆ**ä¿®æ­£ç‰ˆ & æ¨å¥¨**ï¼‰

**èƒŒæ™¯**
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒˆãƒƒãƒ—ã« Python ãƒ•ã‚©ãƒ«ãƒ€ãªã©ãŒæ··åœ¨ã™ã‚‹ãŸã‚ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªæ§‹é€ ã¯ `app-ts/` å†…ã«å®Œçµã•ã›ã‚‹ã®ãŒæœ›ã¾ã—ã„
- `cssé•·ã•å˜ä½` ã¯æ—¢ã« Base ã«ç§»å‹•æ¸ˆã¿
- `MouseWife.ts` ã®ã¿ãŒ MouseAbstraction ã«ä¾å­˜

**å®Ÿè£…æ¸ˆã¿ & è¨ˆç”»ä¸­ã®æ§‹é€ **
```
app-ts/
  package.json          â† ãƒ«ãƒ¼ãƒˆ workspace å®šç¾©ï¼ˆå®Ÿè£…äºˆå®šï¼‰
  vite.config.ts        â† Electron + ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå¯¾å¿œï¼ˆå®Ÿè£…äºˆå®šï¼‰
  tsconfig.json         â† ãƒ«ãƒ¼ãƒˆ tsconfig (paths æŒ‡å®š)
  src/
    Packages/
      SengenUI/         â† @voiro/ui-component ã®ã‚½ãƒ¼ã‚¹ï¼ˆãƒ•ã‚©ãƒ«ãƒ€ç§»å‹•å®Œäº†ï¼‰
        SengenBase/
        Behaviors/
        LV1UIComponents/
        MathMLComponents/
        MouseAbstraction/
        SvgUIComponents/
        _æ–‡æ›¸/
        index.ts          â† ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆï¼ˆæœªä½œæˆï¼‰
    Components/
      main.ts            â† Electron ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ã‚»ã‚¹
      preload/
    (ãã®ä»–)
  packages/
    ui-component/        â† ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å®šç¾©ï¼ˆæœªä½œæˆï¼‰
      package.json       â† @voiro/ui-component
      vite.config.ts     â† ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ“ãƒ«ãƒ‰å°‚ç”¨
      tsconfig.json      â† ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç”¨ tsconfig
```

**package.jsonï¼ˆãƒ«ãƒ¼ãƒˆã€app-tså†…ï¼‰ã®ä¾‹**
```json
{
  "name": "@voiro/app",
  "version": "1.0.0",
  "type": "module",
  "workspaces": [
    "packages/ui-component"
  ],
  "private": true,
  "scripts": {
    "dev": "chcp 65001 && vite",
    "build": "tsc && vite build",
    "build:watch": "vite build --watch",
    "build:lib": "npm run -w packages/ui-component build",
    "dev:lib": "npm run -w packages/ui-component dev"
  },
  "dependencies": {
    "@voiro/ui-component": "workspace:*",
    ...ï¼ˆæ—¢å­˜Electronã‚¢ãƒ—ãƒªä¾å­˜ï¼‰
  }
}
```

**packages/ui-component/package.json ã®ä¾‹**
```json
{
  "name": "@voiro/ui-component",
  "version": "0.1.0",
  "type": "module",
  "exports": {
    ".": {
      "import": "./dist/index.js",
      "types": "./dist/index.d.ts"
    }
  },
  "files": ["dist"],
  "scripts": {
    "build": "vite build",
    "dev": "vite"
  },
  "devDependencies": {
    "typescript": "^5.7.3",
    "vite": "^5.4.8"
  }
}
```

**ãƒ¡ãƒªãƒƒãƒˆ**
- âœ… ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒˆãƒƒãƒ—ãŒæ•´ç†ã•ã‚Œã‚‹ï¼ˆPython ãªã© ã¨ã®æ··åœ¨å›é¿ï¼‰
- âœ… `app-ts/` å†…ã§å®Œçµï¼ˆGit history ãŒä¸€ä½“ï¼‰
- âœ… `npm install` ã§å…¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è‡ªå‹•è§£æ±º
- âœ… ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºæ™‚ã«ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰å¯¾å¿œ
- âœ… npm publish æ™‚ã‚‚æ˜ç¢º

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**
- âš ï¸ `src/` ã® symlink ã‚„ path mapping ã®è¨­å®šãŒå¿…è¦
- âš ï¸ ãƒ“ãƒ«ãƒ‰è¨­å®šãŒè¤‡é›‘åŒ–ï¼ˆElectron + ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä¸¡ç«‹ï¼‰

---

#### è£œè¶³ï¼šMouseAbstraction ä¾å­˜ã¸ã®å¯¾å¿œ

`MouseWife.ts` ã¯ä»¥ä¸‹ã®ã‚ˆã†ã« `MouseAbstraction` ã«ä¾å­˜ï¼š
```typescript
// MouseWife.ts
import { MouseStateManager } from "../../Extend/MouseAbstraction";
import { äºŒæ¬¡ãƒã‚¦ã‚¹æ“ä½œæƒ…å ±å±¥æ­´ } from "../../Extend/MouseAbstraction/MouseState";
// ä½¿ç”¨: MouseStateManager.instance()
```

**3ã¤ã®é¸æŠè‚¢**

1. **MouseWife ã‚’ã‚³ã‚¢ã‹ã‚‰é™¤å¤–ã™ã‚‹**ï¼ˆæ¨å¥¨ï¼‰
   - `Base/` ã‹ã‚‰ `MouseWife.ts` ã‚’åˆ†å‰²
   - `src/UiComponent/Behaviors/` ã«ç§»å‹• ã¾ãŸã¯ `MouseWife` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–
   - Base ã¯å®Œå…¨ã«ç‹¬ç«‹ã—ãŸç´”ç²‹ UI ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã«ãªã‚‹

2. **MouseAbstraction ã‚‚ä¸€ç·’ã«ãƒ©ã‚¤ãƒ–ãƒ©ãƒªåŒ–**
   - `@voiro/mouse-abstraction` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’åˆ¥é€”ä½œæˆ
   - `@voiro/ui-component` ãŒ `@voiro/mouse-abstraction` ã«ä¾å­˜

3. **MouseWife ã®ã¿ã‚ªãƒ—ã‚·ãƒ§ãƒ³åŒ–**
   - Base ã«ã¯å«ã‚ãšã€Electron ã‚¢ãƒ—ãƒªå´ã§åˆ¥é€”æä¾›
   - Base ã®ã‚³ã‚¢ã¯ `MouseWife` ç„¡ã—ã§å‹•ä½œå¯èƒ½ã«

---

#### ãƒ‘ã‚¿ãƒ¼ãƒ³ Bï¼‰ã‚·ãƒ³ãƒ—ãƒ«ç‰ˆï¼ˆãƒ„ãƒ¼ãƒ«ä¸è¦ï¼‰

`workspace` ã§ã¯ãªãã€å˜ç´”ã« `app-ts/` ã® `tsconfig.json` ã§ `paths` ã‚’æŒ‡å®šï¼š

```json
{
  "compilerOptions": {
    "baseUrl": "./",
    "paths": {
      "@voiro/ui-component": ["./src/Packages/SengenUI/index.ts"]
    }
  }
}
```

vite ã¨ tsc ã§ãƒ“ãƒ«ãƒ‰ã‚’åˆ†ã‘ã‚‹ï¼ˆè¤‡é›‘æ€§å¢—åŠ ï¼‰

---

### 3. æ¨å¥¨ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆä¿®æ­£ç‰ˆï¼‰

**ãƒ‘ã‚¿ãƒ¼ãƒ³ A+ï¼ˆapp-ts å†…ãƒ¢ãƒãƒ¬ãƒï¼‰ã‚’æ¨å¥¨ã—ã¾ã™ã€‚ç†ç”±ï¼š**

1. **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ãŒæ˜ç¢º**  
   - TS/JS ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ `app-ts/packages/` ã«çµ±ä¸€
   - Python ãªã©ä»–è¨€èªãƒ•ã‚©ãƒ«ãƒ€ã¨ã®æ··åœ¨ã‚’å›é¿

2. **é–‹ç™ºåŠ¹ç‡ãŒé«˜ã„**  
   - ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰å¯¾å¿œï¼ˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªä¿®æ­£ â†’ ã‚¢ãƒ—ãƒªå³åæ˜ ï¼‰
   - Git history ãŒä¸€ä½“ã§ãƒªãƒ¢ãƒ¼ãƒˆè¿½è·¡ã—ã‚„ã™ã„

3. **npm publish ã¸ã®é“ãŒæ˜ç¢º**  
   - `npm publish -w packages/ui-component` ã§ç‹¬ç«‹å…¬é–‹
   - ã‚¹ã‚³ãƒ¼ãƒ—ä»˜ã `@voiro/ui-component` ã®æä¾›

4. **MouseAbstraction ã®ä¾å­˜å‡¦ç†**  
   - `MouseWife` ã‚’ Base ã‹ã‚‰åˆ†å‰²ã—ã€ä¾å­˜ã‚’åˆ‡ã‚Šå‡ºã™
   - çµæœã¨ã—ã¦ Base ã¯å®Œå…¨ã«ç‹¬ç«‹ã—ãŸã€Œå®£è¨€çš„ UI ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€ã«ãªã‚‹

---

### 4. å®Ÿè£…æ‰‹é †ï¼ˆãƒ‘ã‚¿ãƒ¼ãƒ³ A+ å‰æï¼‰

#### Step 1: ãƒ«ãƒ¼ãƒˆ package.json ã‚’ä¿®æ­£ï¼ˆapp-ts ãƒ«ãƒ¼ãƒˆï¼‰

**ç¾åœ¨ã® app-ts/package.json ã« workspace è¨­å®šã‚’è¿½åŠ **
```json
{
  "name": "@voiro/app",
  "version": "1.0.0",
  "type": "module",
  "workspaces": [
    "packages/*"
  ],
  "private": true,
  "scripts": {
    "dev": "chcp 65001 && vite",
    "build": "tsc && vite build",
    "build:watch": "vite build --watch",
    "build:lib": "npm run -w packages/ui-component build",
    "dev:lib": "npm run -w packages/ui-component dev",
    ...ï¼ˆæ—¢å­˜ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼‰
  },
  "dependencies": {
    "@voiro/ui-component": "workspace:*",
    ...ï¼ˆæ—¢å­˜ï¼‰
  },
  ...
}
```

#### Step 2: ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆ

**æ–°è¦ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ **
```
app-ts/
  packages/
    ui-component/
      package.json          â† æ–°è¦
      vite.config.ts        â† æ–°è¦
      tsconfig.json         â† æ–°è¦ï¼ˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªç”¨ï¼‰
      index.ts              â† æ–°è¦ï¼ˆã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆï¼‰
```

#### Step 3: ãƒ©ã‚¤ãƒ–ãƒ©ãƒª package.json ã‚’ä½œæˆ

**packages/ui-component/package.json**
```json
{
  "name": "@voiro/ui-component",
  "version": "0.1.0",
  "type": "module",
  "exports": {
    ".": {
      "import": "./dist/index.js",
      "types": "./dist/index.d.ts"
    }
  },
  "files": ["dist"],
  "scripts": {
    "build": "vite build",
    "dev": "vite"
  },
  "devDependencies": {
    "typescript": "^5.7.3",
    "vite": "^5.4.8"
  }
}
```

#### Step 4: ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç”¨ vite.config.ts ã‚’ä½œæˆ

**packages/ui-component/vite.config.tsï¼ˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ“ãƒ«ãƒ‰å°‚ç”¨ï¼‰**
```typescript
import { defineConfig } from 'vite';
import { resolve } from 'path';

export default defineConfig({
  build: {
    lib: {
      entry: resolve(__dirname, 'index.ts'),
      name: 'VoiroUI',
      fileName: (format) => `index.${format === 'es' ? 'js' : 'cjs'}`
    },
    target: 'es2022'
  },
  resolve: {
    alias: {
      '@voiro/ui-component': resolve(__dirname, '../../src/Packages/SengenUI')
    }
  }
});
```

#### Step 5: ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç”¨ tsconfig.json ã‚’ä½œæˆ

**packages/ui-component/tsconfig.json**
```json
{
  "extends": "../../tsconfig.json",
  "compilerOptions": {
    "outDir": "./dist",
    "declaration": true,
    "declarationMap": true,
    "sourceMap": true,
    "rootDir": "../../src/Packages/SengenUI"
  },
  "include": ["../../src/Packages/SengenUI/**/*.ts"],
  "exclude": ["node_modules"]
}
```

#### Step 6: ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆï¼ˆindex.tsï¼‰ã‚’ä½œæˆ

**packages/ui-component/index.ts**
```typescript
// Base Components
export * from '../../src/Packages/SengenUI/SengenBase/HtmlComponentBase';
export * from '../../src/Packages/SengenUI/SengenBase/LV1HtmlComponentBase';
export * from '../../src/Packages/SengenUI/SengenBase/LV2HtmlComponentBase';
export * from '../../src/Packages/SengenUI/SengenBase/DomProxy';
export * from '../../src/Packages/SengenUI/SengenBase/EventTypes';
export * from '../../src/Packages/SengenUI/Behaviors';

// Types
export * from '../../src/Packages/SengenUI/SengenBase/cssé•·ã•å˜ä½';
export * from '../../src/Packages/SengenUI/SengenBase/HtmlComponentBaseInterfaces';
```

#### Step 7: .gitignore ã‚’æ›´æ–°

```gitignore
# Library build outputs
packages/ui-component/dist/
packages/*/dist/

# Node modules
packages/*/node_modules/
app-ts/node_modules/

# ãƒ“ãƒ«ãƒ‰æˆæœç‰©
dist/
electron-dist/
.tsbuildinfo

# Logs
*.log
npm-debug.log*

# ãã®ä»–ï¼ˆæ—¢å­˜ãƒ«ãƒ¼ãƒ«ï¼‰
...
```

#### Step 8: Electron ã‚¢ãƒ—ãƒªã® vite.config.ts ã‚’ä¿®æ­£

**æ—¢å­˜ã® vite.config.ts ã‚’ä¿®æ­£ï¼ˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã®ä¸¦è¡Œãƒ“ãƒ«ãƒ‰å¯¾å¿œï¼‰**

ç¾åœ¨ã®ã¾ã¾ã§å¤§ä¸ˆå¤«ã§ã™ãŒã€å¿…è¦ã«å¿œã˜ã¦:
```typescript
// app-ts/vite.config.ts
export default defineConfig({
  // ... æ—¢å­˜è¨­å®š
  resolve: {
    alias: {
      '@voiro/ui-component': resolve(__dirname, './packages/ui-component/index.ts')
    }
  }
});
```

---

### 5. å¤–éƒ¨ä¾å­˜ã®æ•´ç†ï¼ˆå„ªå…ˆé †ï¼‰

#### Phase 1: Coreï¼ˆå¿…é ˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªåŒ–ï¼‰
| ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« | ç¾çŠ¶ | å¯¾å¿œ | ç†ç”± |
|-----------|------|------|------|
| `cssé•·ã•å˜ä½` | âœ… æ—¢ã«Baseå†… | å®Œäº† | - |
| `DomProxy` | âœ“ Baseå†… | å®Œäº† | Core |
| `HtmlComponentBase` | âœ“ Baseå†… | å®Œäº† | Core |

#### Phase 2: Optionalï¼ˆåˆ†å‰²æ¨å¥¨ï¼‰
| ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« | ä¾å­˜å…ƒ | å¯¾å¿œæ¡ˆ | å„ªå…ˆåº¦ |
|-----------|--------|--------|--------|
| `MouseAbstraction` | `MouseWife.ts` ã®ã¿ | Base ã‹ã‚‰åˆ†å‰²ã€ç‹¬ç«‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ– | ğŸ”´ é«˜ |
| `extend` | è¤‡æ•°ç®‡æ‰€ | ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ã‚’æ•´ç†ã€Base ã‹ã‚‰ä¾å­˜å‰Šé™¤ | ğŸŸ¡ ä¸­ |
| `Math/GrapgTheory` | `SvgDomProxy.ts` | ã‚°ãƒ©ãƒ•å‚ç…§ã‚’å‰Šé™¤ or ã‚ªãƒ—ã‚·ãƒ§ãƒ³åŒ– | ğŸŸ¡ ä¸­ |

#### MouseAbstraction åˆ†å‰²ã®è©³ç´°ææ¡ˆ

**ç¾çŠ¶ï¼šMouseWife.ts ãŒå¤–éƒ¨ä¾å­˜ã‚’å¼•ããšã£ã¦ã„ã‚‹**
```typescript
// MouseWife.ts
import { MouseStateManager } from "../../Extend/MouseAbstraction";
```

**é¸æŠè‚¢**
1. **æ¨å¥¨ï¼šMouseWife ã‚’ Base ã‹ã‚‰åˆ†å‰²**
   - `src/UiComponent/MouseWife.ts` â†’ `src/Extend/MouseWife.ts` ã«ç§»å‹•
   - `@voiro/ui-component` ã«ã¯å«ã‚ãšã€ã‚¢ãƒ—ãƒªå´ã§æä¾›
   - Base ã‚³ã‚¢ã¯å®Œå…¨ç‹¬ç«‹

2. **ä»£æ›¿æ¡ˆï¼šMouseAbstraction ã‚‚ä¸€ç·’ã«ãƒ©ã‚¤ãƒ–ãƒ©ãƒªåŒ–**
   - `@voiro/mouse-abstraction` æ–°è¦ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
   - `@voiro/ui-component` ãŒä¾å­˜

---

### 6. é–‹ç™ºãƒ»ãƒ“ãƒ«ãƒ‰æ™‚ã®ä½¿ç”¨æ–¹æ³•

**npm installï¼ˆåˆå›ï¼‰**
```bash
cd app-ts
npm install
# â†’ packages/ui-component ã¨ app-ts ä¸¡æ–¹è‡ªå‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```

**é–‹ç™ºæ™‚ï¼šElectron ã‚¢ãƒ—ãƒª + ãƒ©ã‚¤ãƒ–ãƒ©ãƒªåŒæ™‚é–‹ç™º**
```bash
# ã‚¿ãƒ¼ãƒŸãƒŠãƒ«1ï¼šãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ãƒ“ãƒ«ãƒ‰ + ã‚¦ã‚©ãƒƒãƒ
npm run dev:lib

# ã‚¿ãƒ¼ãƒŸãƒŠãƒ«2ï¼šElectron ã‚¢ãƒ—ãƒªã‚’é–‹ç™ºãƒ¢ãƒ¼ãƒ‰
npm run electron:dev
```

**é–‹ç™ºæ™‚ï¼šãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã¿ãƒ“ãƒ«ãƒ‰**
```bash
npm run build:lib
```

**æœ¬ç•ªãƒ“ãƒ«ãƒ‰ï¼ˆã‚¢ãƒ—ãƒªï¼‰**
```bash
npm run build
# â†’ tsc + vite ã§ä¸¡æ–¹è‡ªå‹•ãƒ“ãƒ«ãƒ‰
```

**npm publishï¼ˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã¿å…¬é–‹ï¼‰**
```bash
npm publish -w packages/ui-component
```

---

### 7. ãƒªã‚¹ã‚¯ / æ³¨æ„äº‹é …

| é …ç›® | ãƒªã‚¹ã‚¯åº¦ | å¯¾ç­– |
|------|--------|------|
| **MouseWife ã®åˆ†å‰²ä½œæ¥­** | ğŸ”´ é«˜ | import ãƒ‘ã‚¹å¤‰æ›´ã€ä¾å­˜ã®åˆ‡ã‚Šå‡ºã—ï¼ˆãƒ†ã‚¹ãƒˆå¿…é ˆï¼‰ |
| **vite config ã®è¤‡é›‘åŒ–** | ğŸŸ¡ ä¸­ | `src/` â†’ `packages/` ã¸ã®ãƒ‘ã‚¹è§£æ±ºã‚’æ˜ç¢ºã« |
| **workspace å†…ã§ã®å¾ªç’°ä¾å­˜** | ğŸŸ¡ ä¸­ | `packages/ui-component` ã¯ app-ts ã«ä¾å­˜ã—ãªã„ |
| **ãƒ“ãƒ«ãƒ‰æ™‚é–“å¢—åŠ ** | ğŸŸ¡ ä¸­ | ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ï¼ˆtsc --incrementalï¼‰æ¤œè¨ |
| **æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã¸ã® refactor** | ğŸŸ  ä¸­ã€œé«˜ | MouseAbstraction åˆ†å‰²æ™‚ã€åºƒç¯„ãªãƒ‘ã‚¹å¤‰æ›´ |

---

## çµè«–

### æœ€çµ‚æ¨å¥¨ï¼šãƒ‘ã‚¿ãƒ¼ãƒ³ A+ï¼ˆapp-ts å†…ãƒ¢ãƒãƒ¬ãƒï¼‰

**ã€Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã«ãƒ“ãƒ«ãƒ‰ç’°å¢ƒã‚’è¤‡æ•°æŒã¤ã®ã¯å•é¡Œã‹ï¼Ÿã€**

â†’ **å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚ã‚€ã—ã‚ app-ts å†…ã«å®Œçµã•ã›ã‚‹ã»ã†ãŒæ•´ç†ã•ã‚Œã¾ã™ã€‚**

**æ¨å¥¨æ§‹æˆã®ç‰¹å¾´**
- âœ… `app-ts/packages/ui-component/` ã§ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ç‹¬ç«‹ç®¡ç†
- âœ… `npm install` ã§ workspace è‡ªå‹•è§£æ±º
- âœ… ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºæ™‚ã«ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰å¯¾å¿œ
- âœ… Git history ãŒä¸€ä½“ï¼ˆå±¥æ­´è¿½è·¡å®¹æ˜“ï¼‰
- âœ… npm publish ã§ç‹¬ç«‹å…¬é–‹å¯èƒ½
- âœ… ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒˆãƒƒãƒ—ãŒæ•´ç†ï¼ˆPython ãªã©ä»–è¨€èªã¨æ··åœ¨å›é¿ï¼‰

**å®Ÿè£…ã®3ãƒ•ã‚§ãƒ¼ã‚º**

1. **Phase 1: workspace æ§‹é€ æ§‹ç¯‰ï¼ˆ2æ™‚é–“ç¨‹åº¦ï¼‰**
   - `app-ts/package.json` ã‚’ä¿®æ­£ï¼ˆworkspace è¿½åŠ ï¼‰
   - `app-ts/packages/ui-component/` ã‚’ä½œæˆ
   - `vite.config.ts`, `tsconfig.json`, `package.json` ã‚’é…ç½®

2. **Phase 2: MouseAbstraction åˆ†å‰²ï¼ˆ1æ—¥ç¨‹åº¦ï¼‰**
   - `MouseWife.ts` ã‚’ Base ã‹ã‚‰åˆ†å‰² or åˆ¥ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–
   - import ãƒ‘ã‚¹èª¿æ•´

3. **Phase 3: ãƒ†ã‚¹ãƒˆãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆ1æ—¥ç¨‹åº¦ï¼‰**
   - ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ
   - npm publish ãƒ†ã‚¹ãƒˆ
   - ä½¿ç”¨æ–¹æ³•ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ

**æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆæ¨å¥¨é †ï¼‰**

1. âœ… **MouseWife.ts ã®ä¾å­˜åˆ†é›¢æ–¹é‡ã‚’æ±ºå®š**ï¼ˆæœ¬ãƒ¬ãƒãƒ¼ãƒˆã§å®Œäº†ï¼‰
2. ğŸ”² **workspace æ§‹é€ ã®å®Ÿè£…é–‹å§‹**ï¼ˆStep 1-8 ã«å¾“ã†ï¼‰
3. ğŸ”² **MouseAbstraction åˆ†å‰²å®Ÿè£…**
4. ğŸ”² **npm publish ãƒ†ã‚¹ãƒˆ**
5. ğŸ”² **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™**ï¼ˆREADME.md, DEVELOPMENT.mdï¼‰

---

ã“ã®ãƒ¬ãƒãƒ¼ãƒˆï¼ˆä¿®æ­£ç‰ˆï¼‰ã¯ä»¥ä¸‹ã‚’åæ˜ ï¼š
- âœ… app-ts å†…å®Œçµå‹ã®æ§‹æˆã«å¤‰æ›´
- âœ… `cssé•·ã•å˜ä½` ç§»å‹•æ¸ˆã¿ã‚’åæ˜ 
- âœ… MouseAbstraction ã®ä¾å­˜ã‚’ `MouseWife.ts` ã®ã¿ã«ç‰¹å®š
- âœ… å¤–éƒ¨ä¾å­˜ã®å„ªå…ˆåº¦ã‚’æ˜ç¢ºåŒ–
```

ã“ã®å ±å‘Šæ›¸ã‚’ Markdown ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä¿å­˜ã—ã¾ã—ã‚‡ã†ã€‚

```bash
# æ—¥è¨˜ãƒ•ã‚©ãƒ«ãƒ€ã«ä¿å­˜ã™ã‚‹ã®ãŒè‰¯ã•ãã†ã§ã™ãŒã€ææ¡ˆã¨ã—ã¦è¨˜è¿°ã—ã¾ã™
```

---

## èª¿æŸ»çµæœã‚µãƒãƒªãƒ¼

**è³ªå•ï¼šã€Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã«ãƒ“ãƒ«ãƒ‰ç’°å¢ƒã‚’è¤‡æ•°æŒã¤ã®ã¯å•é¡Œã‹ï¼Ÿã€**

â†’ **å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚npm workspaces ã§ãƒ¢ãƒãƒ¬ãƒåŒ–ã™ã‚‹ã®ãŒå®Ÿå‹™çš„ã§ã™ã€‚**

**æ¨å¥¨ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆè©³ç´°ã¯ä¸Šè¨˜ãƒ¬ãƒãƒ¼ãƒˆå‚ç…§ï¼‰**

1. **npm workspacesï¼ˆãƒ¢ãƒãƒ¬ãƒï¼‰** â† **æœ€æ¨å¥¨**
   - `packages/ui-component/` ã¨ `app-ts/` ã‚’åŒæ™‚ç®¡ç†
   - ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰é–‹ç™ºãŒå®¹æ˜“
   - å°†æ¥çš„ãªåˆ†å‰²ï¼ˆ`coordinate-types`, `mouse-abstraction` ãªã©ï¼‰ã«å¯¾å¿œå¯èƒ½

2. **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸**
   - `file:` ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã§å‚ç…§ï¼ˆæ‰‹è»½ã ãŒæœ¬ç•ªéæ¨å¥¨ï¼‰

3. **å¢ƒç•Œåˆ†å‰²ã®ã¿ï¼ˆè»½é‡ç‰ˆï¼‰**
   - monorepo ãƒ„ãƒ¼ãƒ«ä¸è¦ã ãŒã‚¹ã‚±ãƒ¼ãƒ«éå¯¾å¿œ

**å¿…è¦ãªä½œæ¥­**
- å¤–éƒ¨ä¾å­˜ã®æ•´ç†ï¼š`cssé•·ã•å˜ä½`, `MouseAbstraction`, `extend`, `Math/GrapgTheory` ã‚‚ãƒ©ã‚¤ãƒ–ãƒ©ãƒªåŒ–æ¨å¥¨
- `.gitignore` æ›´æ–°ï¼š`packages/*/dist/`, `node_modules/` ãªã©ã‚’é™¤å¤–
- import ãƒ‘ã‚¹ã®å¤§å¹… refactorï¼ˆæ®µéšçš„ã«ï¼‰

**æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆææ¡ˆï¼‰**
- ä¸Šè¨˜ãƒ¬ãƒãƒ¼ãƒˆã‚’ `æ—¥è¨˜/UIãƒ©ã‚¤ãƒ–ãƒ©ãƒªåŒ–_WorkspaceDesign.md` ã«ä¿å­˜
- workspace æ§‹é€ ã®è©³ç´°è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä½œæˆ
- æ®µéšçš„ãª refactor è¨ˆç”»ã‚’ç«‹æ¡ˆ

ã©ã®ä½œæ¥­ã‚’å„ªå…ˆã—ã¾ã™ã‹ï¼Ÿ---

## èª¿æŸ»çµæœã‚µãƒãƒªãƒ¼

**è³ªå•ï¼šã€Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã«ãƒ“ãƒ«ãƒ‰ç’°å¢ƒã‚’è¤‡æ•°æŒã¤ã®ã¯å•é¡Œã‹ï¼Ÿã€**

â†’ **å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚npm workspaces ã§ãƒ¢ãƒãƒ¬ãƒåŒ–ã™ã‚‹ã®ãŒå®Ÿå‹™çš„ã§ã™ã€‚**

**æ¨å¥¨ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆè©³ç´°ã¯ä¸Šè¨˜ãƒ¬ãƒãƒ¼ãƒˆå‚ç…§ï¼‰**

1. **npm workspacesï¼ˆãƒ¢ãƒãƒ¬ãƒï¼‰** â† **æœ€æ¨å¥¨**
   - `packages/ui-component/` ã¨ `app-ts/` ã‚’åŒæ™‚ç®¡ç†
   - ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰é–‹ç™ºãŒå®¹æ˜“
   - å°†æ¥çš„ãªåˆ†å‰²ï¼ˆ`coordinate-types`, `mouse-abstraction` ãªã©ï¼‰ã«å¯¾å¿œå¯èƒ½

2. **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸**
   - `file:` ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã§å‚ç…§ï¼ˆæ‰‹è»½ã ãŒæœ¬ç•ªéæ¨å¥¨ï¼‰

3. **å¢ƒç•Œåˆ†å‰²ã®ã¿ï¼ˆè»½é‡ç‰ˆï¼‰**
   - monorepo ãƒ„ãƒ¼ãƒ«ä¸è¦ã ãŒã‚¹ã‚±ãƒ¼ãƒ«éå¯¾å¿œ

**å¿…è¦ãªä½œæ¥­**
- å¤–éƒ¨ä¾å­˜ã®æ•´ç†ï¼š`cssé•·ã•å˜ä½`, `MouseAbstraction`, `extend`, `Math/GrapgTheory` ã‚‚ãƒ©ã‚¤ãƒ–ãƒ©ãƒªåŒ–æ¨å¥¨
- `.gitignore` æ›´æ–°ï¼š`packages/*/dist/`, `node_modules/` ãªã©ã‚’é™¤å¤–
- import ãƒ‘ã‚¹ã®å¤§å¹… refactorï¼ˆæ®µéšçš„ã«ï¼‰

**æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆææ¡ˆï¼‰**
- ä¸Šè¨˜ãƒ¬ãƒãƒ¼ãƒˆã‚’ `æ—¥è¨˜/UIãƒ©ã‚¤ãƒ–ãƒ©ãƒªåŒ–_WorkspaceDesign.md` ã«ä¿å­˜
- workspace æ§‹é€ ã®è©³ç´°è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä½œæˆ
- æ®µéšçš„ãª refactor è¨ˆç”»ã‚’ç«‹æ¡ˆ

ã©ã®ä½œæ¥­ã‚’å„ªå…ˆã—ã¾ã™ã‹ï¼Ÿ